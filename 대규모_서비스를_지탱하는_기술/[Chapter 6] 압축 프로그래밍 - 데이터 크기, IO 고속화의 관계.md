# [Chapter 6] ì••ì¶• í”„ë¡œê·¸ë˜ë° - ë°ì´í„° í¬ê¸°, I/O ê³ ì†í™”ì˜ ê´€ê³„ ì¸ì‹í•˜ê¸°

## Chapter6 ì˜ ëª©í‘œ

- ì••ì¶•ê³¼ I/Oì˜ ê³ ì†í™”ëŠ” ëŠì„ ìˆ˜ ì—†ëŠ” ê´€ê³„ì„ì„ ì´í•´í•œë‹¤.
- VB Code(Varible Byte Code) ë¼ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì˜ˆë¡œ ë“¤ì–´ ì •ìˆ˜ì—´ ì••ì¶• í”„ë¡œê·¸ë˜ë°ì„ í•œë‹¤.

## ì •ì†Œ ë°ì´í„°ë¥¼ ì»´íŒ©íŠ¸í•˜ê²Œ ê°€ì ¸ê°€ê¸°

### ëª©í‘œ

<aside>
ğŸ“– ì •ìˆ˜ì—´ì´ ê¸°ë¡ëœ CSVë¥¼ ë°”ì´ë„ˆë¦¬ë¡œ í•´ì„œ ì»´íŒ©íŠ¸í•˜ê²Œ ê°€ì ¸ê°€ê¸°

</aside>

- ì •ìˆ˜ì˜ ë¶€í˜¸í™”ë¥¼ ì—°êµ¬í•´ì„œ í…ìŠ¤íŠ¸ë¡œ 152MBì¸ CSV ë°ì´í„°ë¥¼ ì ˆë°˜ ì´í•˜ì˜ í¬ê¸°ë¡œ ì••ì¶•, ì›ë³µì„ ë³µì›í•  ìˆ˜ ìˆì–´ì•¼í•¨
- [ìë£Œ ë‹¤ìš´ë¡œë“œ í•˜ê¸°](https://gihyo.jp/book/2010/978-4-7741-4307-1/support#supportDownload)(ì•„ë˜ì˜ ë¶€í˜¸í™”/ë³µí˜¸í™” ì½”ë“œ í¬í•¨)

---

### ì´ ê³¼ì œë¥¼ í’€ë©´ ì–´ë–¤ ì ì´ ì¢‹ì„ê¹Œ

- í° ë°ì´í„° ì••ì¶•
    - ë””ìŠ¤í¬ I/Oë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. â‡’  ê³ ì†ì²˜ë¦¬
    - RDBMSì— ì €ì¥í•˜ë©´ í¬ê¸°ê°€ ëŠ˜ì–´ë‚˜ëŠ” ë°ì´í„°ë¥¼ ìµœì†Œí•œì˜ í¬ê¸°ë¡œ ì¤„ì—¬ì„œ ë‹¤ë£° ìˆ˜ ìˆë‹¤.
- VB Codeì˜ ì†ë„ê° íŒŒì•…
    - ë¹ ë¥¸ í”„ë¡œê·¸ë¨ì˜ ì†ë„ëŠ” ì–´ëŠ ì •ë„ ì¸ì§€ íŒŒì•… ê°€ëŠ¥
- ë°ì´í„° í˜•ì˜ í¬ê¸° ë“±ì— ì˜ì‹ì„ ê°–ëŠ”ë‹¤.
- ì‘ìš©
    - ì œ 9ì¥ ,ì œ 10ì¥ì˜ ê²€ìƒ‰ì—”ì§„ ê°œë°œì— ì‘ìš©
    - ê¸°ê³„ í•™ìŠµì´ë‚˜ ë°ì´í„°ë§ˆì´ë‹ ë“±ì—ì„œ ê±°ëŒ€í•œ ì •ìˆ˜ì—´ì„ ë‹¤ë£° ì¼ì´ ë§ë‹¤.

---

### ê³¼ì œì—ì„œ ë‹¤ë£¨ëŠ” íŒŒì¼ì˜ ë‚´ë¶€

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 á„‹á…©á„Œá…¥á†« 11.36.25.png](%5BChapter%206%5D%20%E1%84%8B%E1%85%A1%E1%86%B8%E1%84%8E%E1%85%AE%E1%86%A8%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%84%80%E1%85%B5,%20I%20O%20%2062def3a2ba8d4ad280dfc09d5ce9c4c9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-07-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_11.36.25.png)

- íŠ¹ì • íƒœê·¸ê°€ ìˆê³ , ê·¸ íƒœê·¸ë¥¼ í¬í•¨í•˜ëŠ” ì—”íŠ¸ë¦¬ì˜ ID ê¸°ë¡

## VB Codeì™€ ì†ë„ê°ê°

### VB Code (Varible Byte Code, ê°€ë³€ê¸¸ì´ ë°”ì´íŠ¸ ë¶€í˜¸)

- ì •ìˆ˜ì—´ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ (ê·¸ ì™¸ë¡œ Golomb ë¶€í˜¸ ë° Interpolate (ë³´ê°„) ë¶€í˜¸ ë“± â€¦)
- êµ¬í˜„ë©´ì—ì„œëŠ” ê°„ë‹¨í•˜ê³  ì†ë„ê°€ ë¹¨ë¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì •ìˆ˜ì˜ ë¶€í˜¸í™” ë°©ë²• ì¤‘ í•˜ë‚˜

| ìˆ˜ì¹˜ | ê³ ì • ê¸¸ì´ ë°”ì´ë„ˆë¦¬ ë¶€í˜¸ | VB Code |
| --- | --- | --- |
| 5 | 00000000 00000000 00000000 00000101 | 10000101 |
| 130 | 00000000 00000000 00000000 10000010 | 00000001 10000010 |
- 5ì˜ ê²½ìš°, 00000000(8ë¹„íŠ¸) 00000000(8ë¹„íŠ¸) 00000000(8ë¹„íŠ¸) 00000101(8ë¹„íŠ¸)  â‡’ ì´ 32ë¹„íŠ¸, 4ë°”ì´íŠ¸ë‚˜ ë˜ì§€ë§Œ í•˜ìœ„ 1ë°”ì´íŠ¸(8ë¹„íŠ¸) ì´ì™¸ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- **ì•ë¶€ë¶„ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°”ì´íŠ¸ë¥¼ ì œê±°í•˜ê³  ìµœì†Œí•œì˜ ë°”ì´íŠ¸ë¡œ ì •ë³´ë¥¼ í‘œí—Œí•˜ëŠ” ê²ƒ**

| ìˆ˜ì¹˜ | VB Code |
| --- | --- |
| 5 | 10000101 |
| 130 | 00000001 10000010 |
- ì²« ë¹„íŠ¸ : ì´ ì •ìˆ˜ì˜ ë¹„íŠ¸ì—´ì€ **ì´ ë°”ì´íŠ¸ì—ì„œ ëì´ë¼ëŠ” í”Œë˜ê·¸**
- ê° ë°”ì´íŠ¸ 8ë¹„íŠ¸ì˜ ì²« 1ë¹„íŠ¸ëŠ” í”Œë˜ê·¸ì´ë¯€ë¡œ ì •ìˆ˜ë¥¼ í‘œí—Œí•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œëŠ” 7ë¹„íŠ¸ë§Œ ì‚¬ìš©ê°€ëŠ¥
- ex) ìˆ˜ì¹˜ 130 ë³µí˜¸í™”
    - ì²« ë¹„íŠ¸ëŠ” 0ì´ë¯€ë¡œ ì´ ë°”ì´íŠ¸ì—ì„œ ëë‚˜ì§€ ì•ŠëŠ”ë‹¤.
    - ì´ ì²« ë°”ì´íŠ¸ ëì— í•˜ìœ„ 7ë¹„íŠ¸ì¸ 1ì´ ìˆìŒì„ ê¸°ì–µí•´ë³´ì
    - ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ë©´ì„œ ë‘ ë²ˆì§¸ ë°”ì´íŠ¸ì— ì²« ë¹„íŠ¸ê¹Œ 1ì´ë¯€ë¡œ ì´ ì •ìˆ˜ëŠ” ì´ ë°”ì´íŠ¸ì—ì„œ ëì´ë¼ëŠ”ê±¸ ì˜ë¯¸
    - ì¦‰, ì²« ë²ˆì§¸ ë°”ì´íŠ¸ í•˜ìœ„ 7ë¹„íŠ¸ëŠ” 128ì„, 2ë°”ì´íŠ¸ì§¸ëŠ” í•˜ìœ„ 7ë¹„íŠ¸ê°€ 2ë¥¼ ë‚˜íƒ€ë‚´ë¯€ë¡œ 128 + 2 = 130ìœ¼ë¡œ ë³µí˜¸í™”
- 1ë°”ì´íŠ¸ ì§¸ì˜ í•˜ìœ„ 7ë¹„íŠ¸ë¡œëŠ” 0 ~ 127ê¹Œì§€ë¥¼ ë‚˜íƒ€ë‚´ê³ , ê·¸ ìƒìœ„ ë°”ì´íŠ¸ëŠ” 128 * (1 ~ 127), ê·¸ ìƒìœ„ëŠ” 128^2 ( 1 ~ 127) â€¦ ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- ê²°ë¡ ì ìœ¼ë¡œ ë³´ë©´ 5ì˜ ê²½ìš° 4ë°”ì´íŠ¸ë¥¼ 1ë°”ì´íŠ¸ê°€ ë˜ì—ˆê³  , 130ì€ 4ë°”ì´íŠ¸ì—ì„œ 2ë°”ì´íŠ¸ë¡œ ì••ì¶•ë˜ì—ˆë‹¤.
- **ê°’ì´ ì‘ìœ¼ë©´ ì‘ì„ ìˆ˜ë¡ ì ì€ ë°”ì´íŠ¸ë¡œ ì •ìˆ˜ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ê°€ë³€ ê¸¸ì´ì¸  VB Codeì´ë‹¤.**

---

### VB Codeì˜ ì˜ì‚¬ì½”ë“œ

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-07-18 á„‹á…©á„’á…® 12.00.55.png](%5BChapter%206%5D%20%E1%84%8B%E1%85%A1%E1%86%B8%E1%84%8E%E1%85%AE%E1%86%A8%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8F%E1%85%B3%E1%84%80%E1%85%B5,%20I%20O%20%2062def3a2ba8d4ad280dfc09d5ce9c4c9/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-07-18_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_12.00.55.png)

- [ìì„¸íˆ](https://nlp.stanford.edu/IR-book/html/htmledition/variable-byte-codes-1.html)

---

### ì •ë ¬ ì™„ë£Œëœ ì •ìˆ˜ë¥¼ â€˜Gapâ€™ìœ¼ë¡œ ê°€ì ¸ê°€ê¸° - ì •ìˆ˜ì—´ ì••ì¶•

- ì •ìˆ˜ê°€ ì°¨ë¶„(ë‘ ì •ìˆ˜ê°„ì˜ ì°¨ì´)ë¥¼ êµ¬í•´ì„œ ì‘ì€ ì •ìˆ˜ë¡œ í‘œí˜„ë˜ë„ë¡ ë°”ê¾¸ëŠ” ê²ƒ
- íƒœê·¸ ë°ì´í„°ë¥¼ ì˜ ì‚´í´ë³´ë©´ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ìˆ˜ê°€ ì •ë ¬ë˜ì–´ ìˆë‹¤.

```java
[3, 5, 20, 21, 23, 76, 77, 78] â‡’ [3, 2, 15, 1, 2, 53, 1, 1] 
```

- ì •ìˆ˜ë¡œ ì •ë ¬ì´ ë˜ì–´ìˆë‹¤ë©´ ë°˜ë“œì‹œ ë‹¨ìˆœ ì¦ê°€í•œë‹¤ëŠ” ê²ƒì„ ë³´ì¥
- ë‹¨ìˆœ ì¦ê°€í•˜ê²Œ ë˜ë©´ ì²˜ìŒë¶€í„° ì°¨ë¶„ì„ êµ¬í•˜ë”ë¼ë„ ì—­ìœ¼ë¡œ ë³µì›í• ë•Œ ì²˜ìŒë¶€í„° ë”í•´ê°€ë©´ ì›ë˜ ì •ìˆ˜ì—´ë¡œ ë³µì›í•  ìˆ˜ ìˆë‹¤.
- ë”°ë¼ì„œ íŠ¹ì • ì •ìˆ˜ë¥¼ í‘œí˜„í•  ë•Œ ë°”ë¡œ **ì´ì „ ìˆ«ìì™€ì˜ ì°¨ë¶„ìœ¼ë¡œ í‘œí˜„**í•´ì¤€ë‹¤.

(ì§ê°ì ìœ¼ë¡œ ì™¼ìª½ ì—´ë³´ë‹¤ ì˜¤ë¥¸ìª½ ì—´ì´ ì••ì¶•í•˜ëŠ” í¸ì´ ì••ì¶•ë¥ ì´ ë†’ì•„ì§ˆ ê±°ë¼ëŠ”ê±´ ì§ê°ì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë‹¤)

- ë‹¨ìˆœ ì¦ê°€í•˜ëŠ” ì •ìˆ˜ì—´ì˜ ì°¨(Gap)ë¥¼ êµ¬í•´ì„œ VB Code ë¶€í˜¸í™”í•˜ëŠ” ê²ƒì´ ì •ìˆ˜ì—´ì„ ì••ì¶•í•˜ëŠ” ë°©ë²•

---

- ë³´ì¶© 1 : ì••ì¶•ì˜ ê¸°ì´ˆ
    - ê¸°í˜¸ì˜ í™•ë¥ ë¶„í¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ìì£¼ ë‚˜íƒ€ë‚˜ëŠ” ê¸°í˜¸ì—ëŠ” ì§§ì€ ë¶€í˜¸ë¥¼, ê·¸ë ‡ì§€ ì•Šì€ ê¸°í˜¸ì—ëŠ” ê¸´ ë¶€í˜¸ë¥¼ ë¶€ì—¬**  â‡’ ëª¨ìŠ¤ ì‹ í˜¸ì™€ ê°™ì€ ì›ë¦¬
        - ì••ì¶•ì˜ ê°€ì¥ ê·¼ì €ì— ìˆëŠ” ì´ë¡ 
        - ex ) eë‚˜ tì™€ê°™ì´ ìì£¼ ì“°ì´ëŠ” ì˜ì–´ëŠ” ì§§ê²Œ ì „ë‹¬ , z ì™€ q ë“± ë³„ë¡œ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ” ê±´ ê¸´ ë¶€í˜¸ë¡œ ì‹ í˜¸ í• ë‹¹
        - ì••ì¶•ë„ ì´ì™€ ê°™ì€ ê°œë… , ëª¨ë“  ê¸°í˜¸ì— ê°™ì€ ê¸¸ì´ ë¶€ì—¬ x â†’ ë§ì´ ì¶œí˜„í•˜ëŠ” ê²ƒì— ì§§ì€ ë¶€í˜¸ í• ë‹¹ ì ê²Œ ì¶œí˜„í•˜ëŠ”ê²ƒì— ê¸´ ë¶€í˜¸ ë¶€ì—¬
        - **ì •ìˆ˜ì˜ ê°’ì„ Gapì„ ì·¨í•˜ì—¬ ì‘ì€ ìˆ«ìê°€ ë§ì´ ë‚˜íƒ€ë‚˜ê¸° ì‰½ë„ë¡ í™•ë¥ ë¶„í¬ë¥¼ ë§Œë“¤ê³  , ì´ì— ëŒ€í•´ ì‘ì€ ì •ìˆ˜ì— ì§§ì€ ë¶€í˜¸ë¥¼ ë¶€ì—¬í•˜ëŠ” VB Codeë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ ì••ì¶•**
- ë³´ì¶© 2:  ëŒ€ìƒì´ ì •ìˆ˜ì¸ ê²½ìš° - ë°°ê²½ì— ìˆëŠ” ì´ë¡ 
    - í…ìŠ¤íŠ¸ë¥¼ ì••ì¶œ í•  ë•Œ ë²”ìš©ì ì¸ ì••ì¶•ë°©ë²• : ex) í—ˆí”„ë§Œ ë¶€í˜¸(Huffman Code)
    - ëŒ€ìƒì´ ì •ìˆ˜ì¸ ê²½ìš°
        - ì••ì¶•ëŒ€ìƒì¸ ê¸°í˜¸ ìì²´ê°€ ì •ìˆ˜ë¡œì„œ ì˜ë¯¸ë¥¼ ì§€ë‹ˆê³  ìˆë‹¤.
        - ì •ìˆ˜ë¼ëŠ” íŠ¹ì§•ì„ ì˜ ì´ìš©í•´ì„œ ì••ì¶•í•œë‹¤.

## ê³¼ì œì— ëŒ€í•œ ìƒì„¸ì„¤ëª…ê³¼ ì‘ë‹µ ì‚¬ë ˆ

### ê³¼ì œì— ëŒ€í•œ ìƒì„¸ ì„¤ëª…

1. í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° íŒŒì¼ì„ Gap + VB Codeë¡œ ë¶€í˜¸í™”í•œ ê²ƒì„ ì €ì¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“ ë‹¤.
2. ì €ì¥í•œ ë°”ì´ë„ˆë¦¬ë¥¼ ë³µì›í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“ ë‹¤.
3. ì›ë³µ í…ìŠ¤íŠ¸ íŒŒì¼ë³´ë‹¤ ì–¼ë§ˆë‚˜ ì‘ì•„ì¡ŒëŠ”ì§€ë¥¼ í™•ì¸
4. ìˆ˜í™œí•˜ê²Œ ëë‚¸ì‚¬ëŒ â†’  VB Code ì´ì™¸ì˜ ë¶€í˜¸í™” í•˜ëŠ” ë°©ë²• ì‹œí—˜ 

### pack() í•¨ìˆ˜ / unpack() í•¨ìˆ˜

- pack () : ë°ì´í„°ë¥¼ ë°”ì´íŠ¸ í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”©
- unpack() : ë°”ì´íŠ¸ í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë””ì½”ë”©

```perl
my $bin = pack('N*' , 1,2,5,8,10)  => longí˜• ì •ìˆ˜ 5ê°œë¥¼ ë°”ì´ë„ˆë¦¬ë¡œ
my $c = pack('C*' , 1,2,5,8,10)  =>  ê° 1ë°”ì´íŠ¸ (unsigned char)ë¡œ ë°”ì´ë„ˆë¦¬
my @v = unpack('N*' , $bin) => Perl í‘œí˜„(ë°°ì—´)ë¡œ ë˜ëŒë¦°ë‹¤.
```

- **`'N*'`** í¬ë§· ë¬¸ìì—´ì€ ë¹…ì—”ë””ì•ˆ í˜•ì‹ì˜ unsigned longë“¤ì„ ë¬¶ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. **`N`**ì€ unsigned longì„ ë‚˜íƒ€ë‚´ê³ , **`*`**ëŠ” ì—¬ëŸ¬ ê°œì˜ ìˆ«ìë¥¼ ë¬¶ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì–´ë””ì„œ ì‚¬ìš© ? :
    1. VB Codeë¡œ ë°”ì´íŠ¸ì—´ì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„
    - ë§ˆì§€ë§‰ ì˜ì‚¬ì½”ë“œì—ì„œ ë°”ì´íŠ¸ì—´ì„ ë³µìˆ˜ì˜ ë°°ì—´ ê·¸ëŒ€ë¡œ í•¨ìˆ˜ì— ë°˜í™˜ í•˜ëŠ” í˜•íƒœë¡œ ë˜ì–´ìˆë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ ë°”ì´íŠ¸ì—´ì„ ê·¸ëŒ€ë¡œ íŒŒì¼ì— ì“¸ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë°˜í™˜í•  ë•Œ unsigned charë¡œ packí•´ì„œ ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë¡œ ë§Œë“¤ì–´ì•¼í•œë‹¤.
    1. ë°”ì´ë„ˆë¦¬ë¥¼ Read/Write í•  ë•Œ
    - í…ìŠ¤íŠ¸ (íƒœê·¸ ë¶€ë¶„)ì™€ ì••ì¶•í•œ ì •ìˆ˜ì—´ , ì¦‰ ë°”ì´ë„ˆë¦¬ë¥¼ ë‘˜ ë‹¤ ì¶œë ¥í•˜ê²Œ ëœë‹¤. ì¦‰ íƒœê·¸ì˜ í…ìŠ¤íŠ¸ â†’ ë°”ì´ë„ˆë¦¬ í˜•íƒœê°€ í•˜ë‚˜ì˜ ë ˆì½”ë“œê°€ ë˜ë²„ë¦¼.
    - í…ìŠ¤íŠ¸ /  ë°”ì´ë„ˆë¦¬ ê°„ êµ¬ë¶„  : ë ˆì½”ë“œë¥¼ êµ¬ë¶„í•  ìˆ˜ë‹¨ í•„ìš”
    - ë°”ì´ë„ˆë¦¬ì˜ ê²½ìš° ë°ì´í„°ë¥¼ êµ¬ë¶„í•˜ëŠ” ë° íƒ­ì´ë‚˜ ê°œí–‰ë¬¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
    - ì •ìˆ˜ë¥¼ ë¶€í˜¸í™” í•˜ë©´ ë¶€í˜¸ ë‚´ì— í…ìŠ¤íŠ¸ë¡œ íƒ­ì´ë‚˜ ê°œí–‰ì— í•´ë‹¹í•˜ëŠ” ë¶€í˜¸ê°€ ë‚˜íƒ€ë‚¨
    - ê·¸ëŸ¬ë‹ˆ ì–´ë””ë¶€í„° ì–´ë””ê¹Œì§€ê°€ charì´ëª¨ VB Codeì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ
    - ê° ë°ì´í„°ì˜ ë°ì´í„° ê¸¸ì´ë¥¼ ë°ì´í„°ì™€ í•¨ê»˜ ë§ë¶™ì—¬ì„œ ì“°ê³  ì½ì–´ë“¤ì¸ë‹¤.

```perl
#write
print pack ('N2'), length($tag) , length($v)) , $tag , $v

$v : VB Codeë¡œ ë¶€í˜¸í™”ëœ ë°”ì´ë„ˆë¦¬
N2 : unsinged longí˜• ì •ìˆ˜ 
=> length()ë¡œ ì–»ì€ $tag ê¸¸ì´ì™€ $vì˜ ê¸¸ì´, ë‘ ì •ìˆ˜ë¥¼ ë°”ì´ë„ˆë¦¬ë¡œ ë³€í™˜
=> ë°ì´í„°ê°€ ì‹œì‘ë˜ì§€ ì „ì— ë°˜ë“œì‹œ ê¸¸ì´ê°€ ê¸°ë¡ë¨

#read
$fh -> read(my $buff, 8) or last;
my ($len_t, $len_v) = unpack('N2', $buff); -> ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ Perlë¡œ ì¶œë ¥í‘œí˜„ìœ¼ë¡œ ë˜ëŒë¦¼ (ë°ì´í„° ê¸¸ì´ ì–»ìŒ)
$fh -> read(my $tag, $len_t); -> ë°ì´í„° ê¸¸ì´ ë§Œí¼ ì½ì–´ì¤€ë‹¤.
$fh -> read(my $v, $len_v)
```

### í”„ë¡œíŒŒì¼ë§

- ìì‹ ì´ êµ¬í˜„í•œ ê²°ê³¼ë¬¼ì˜ ì†ë„ê°€ ì‹¤ì œ ì–´ëŠ ì •ë„ ì¸ì§€ í™•ì¸í• ë•Œ í”„ë¡œíŒŒì¼ëŸ¬ ì‚¬ìš© : Devel::NYProf

### ì‘ë‹µ ì‚¬ë¡€ì™€ ì‚¬ê³  ë°©ì‹

`vb_encode.pl (ì••ì¶•/ë¶€í˜¸í™”)`

```perl
#!/usr/bin/env perl
use strict;
use warnings;
use FindBin::libs;

use VB;
use Path::Class qw/file/;

my $file = shift or die "usage: %0 <data file>\n";

my $fh = file($file)->openr;

while (my $line = $fh->getline) {
    my ($tag, $nums) = split "\t", $line;

    ## ì •ìˆ˜ì—´ì˜ ì°¨ë¶„ì„ ì–»ê³  VB Codeë¡œ ë¶€í˜¸í™”
    my $vb;
    my $pre = 0;
    for (split ',', $nums) {
        $vb .= vb_encode($_ - $pre);
        $pre = $_;
    }

    ## $tag, $vbì˜ ê¸¸ì´ë¥¼ pack()ìœ¼ë¡œ ë§ë¶™ì—¬ê°€ë©° ì¶œë ¥
    print pack('N2', length($tag), length($vb)), $tag, $vb;
}
```

`vb_decode.pl(ë³µí˜¸í™”)`

```perl
#!/usr/bin/env perl
use strict;
use warnings;
use FindBin::libs;

use VB;
use Path::Class qw/file/;

my $file = shift or die "usage: %0 <binary file>\n";

my $fh = file($file)->openr;

while (1) {
    ## íƒœê·¸, VB ë¶€í˜¸í™” ë¶€ë¶„ì˜ ê¸¸ì´ë¥¼ ì½ì–´ë“¤ì¸ë‹¤.
    ## 8ë°”ì´íŠ¸ = 32ë¹„íŠ¸ + 32ë¹„íŠ¸
    $fh->read(my $buf, 8) or last;
    my ($tlen, $vblen) = unpack('N2', $buf);

    ## ì¼ì–´ë“¤ì¸ ê¸¸ì´ë§Œí¼ íƒœê·¸, VB ë¶€í˜¸í™” ë¶€ë¶„ì„ ì½ì–´ë“¤ì¸ë‹¤.
    $fh->read(my $tag, $tlen);
    $fh->read(my $vb, $vblen);

    ## VB Codeë¡œ ë³µí˜¸í™” í•˜ê³  ì°¨ë¶„ì´ì—ˆë˜ ê°’ì„ ì›ë˜ëŒ€ë¡œ ë˜ëŒë¦°ë‹¤.
    my @nums;
    my $pre = 0;
    for (vb_decode($vb)) {
        push @nums, $pre + $_;
        $pre += $_;
    }

    ## ì›ë˜ í¬ë§·ì— ë§ê²Œ ì¶œë ¥
    printf "%s\t%s\n", $tag, join ',', @nums;
}
```

- ê¸°íƒ€ (ì˜ì‚¬ì½”ë“œ) - íŒŒì´ì¬
    
    [https://gist.github.com/RyanKor/74034b5a0c0d4702bdff12b3c654c3e7](https://gist.github.com/RyanKor/74034b5a0c0d4702bdff12b3c654c3e7) (ì˜ì‚¬ì½”ë“œ - íŒŒì´ì¬)